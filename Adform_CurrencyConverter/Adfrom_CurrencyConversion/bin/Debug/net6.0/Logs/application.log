2025-03-23 00:57:41,554 [1] INFO  CurrencyRateUpdaterService - Currency Rate Updater Service started.
2025-03-23 00:57:41,569 [1] INFO  CurrencyRateUpdaterService - Fetching latest currency exchange rates...
2025-03-23 00:57:49,298 [1] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Fetching latest currency rates...
2025-03-23 00:57:49,322 [1] INFO  System.Net.Http.HttpClient.Default.LogicalHandler - Start processing HTTP request GET https://www.nationalbanken.dk/api/currencyratesxml?lang=en
2025-03-23 00:57:49,332 [1] INFO  System.Net.Http.HttpClient.Default.ClientHandler - Sending HTTP request GET https://www.nationalbanken.dk/api/currencyratesxml?lang=en
2025-03-23 00:57:49,827 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:7244
2025-03-23 00:57:49,827 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5204
2025-03-23 00:57:49,899 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-03-23 00:57:49,900 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-03-23 00:57:49,900 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\
2025-03-23 00:57:50,830 [8] INFO  System.Net.Http.HttpClient.Default.ClientHandler - Received HTTP response headers after 1492.4034ms - 200
2025-03-23 00:57:50,831 [8] INFO  System.Net.Http.HttpClient.Default.LogicalHandler - End processing HTTP request after 1519.8942ms - 200
2025-03-23 00:57:50,891 [8] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Parsing an XML content...
2025-03-23 00:57:50,898 [8] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Base currency changed from DKK to INR. INR Rate: 8.01
2025-03-23 00:57:50,914 [8] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Saving currency rates to file...
2025-03-23 00:57:50,931 [8] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Successfully saved currency rates to file.
2025-03-23 00:57:50,931 [8] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Successfully fetched and saved currency rates.
2025-03-23 00:57:50,932 [8] INFO  CurrencyRateUpdaterService - Successfully updated currency exchange rates.
2025-03-23 00:57:50,932 [8] INFO  CurrencyRateUpdaterService - Waiting for 60 minutes before the next update.
2025-03-23 00:58:26,072 [9] INFO  Adfrom_CurrencyConversion.Controllers.CurrencyController - Getting Converted Currency Data for INR from  to .
2025-03-23 00:58:26,073 [9] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Getting stored currency conversions...
2025-03-23 00:58:26,074 [9] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency conversions from file...
2025-03-23 00:58:26,186 [14] ERROR Adfrom_CurrencyConversion.Services.CurrencyService - Error while loading currency conversions from file
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
2025-03-23 00:58:26,389 [14] ERROR Adfrom_CurrencyConversion.Services.CurrencyService - Error while getting stored currency conversions
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
   at Adfrom_CurrencyConversion.Services.CurrencyService.GetStoredConversionsAsync(String fromCurrency, Nullable`1 startDate, Nullable`1 endDate) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 312
2025-03-23 00:58:26,474 [14] ERROR Adfrom_CurrencyConversion.Controllers.CurrencyController - Error while retrieving stored conversions
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
   at Adfrom_CurrencyConversion.Services.CurrencyService.GetStoredConversionsAsync(String fromCurrency, Nullable`1 startDate, Nullable`1 endDate) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 312
   at Adfrom_CurrencyConversion.Controllers.CurrencyController.GetStoredConversions(String fromCurrency, Nullable`1 startDate, Nullable`1 endDate) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Controllers\CurrencyController.cs:line 100
2025-03-23 01:00:25,321 [18] INFO  Adfrom_CurrencyConversion.Controllers.CurrencyController - Fetching latest currency rates via API...
2025-03-23 01:00:25,321 [18] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Fetching latest currency rates...
2025-03-23 01:00:25,321 [18] INFO  System.Net.Http.HttpClient.Default.LogicalHandler - Start processing HTTP request GET https://www.nationalbanken.dk/api/currencyratesxml?lang=en
2025-03-23 01:00:25,323 [18] INFO  System.Net.Http.HttpClient.Default.ClientHandler - Sending HTTP request GET https://www.nationalbanken.dk/api/currencyratesxml?lang=en
2025-03-23 01:00:26,703 [23] INFO  System.Net.Http.HttpClient.Default.ClientHandler - Received HTTP response headers after 1380.043ms - 200
2025-03-23 01:00:26,703 [23] INFO  System.Net.Http.HttpClient.Default.LogicalHandler - End processing HTTP request after 1382.0943ms - 200
2025-03-23 01:00:26,703 [23] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Parsing an XML content...
2025-03-23 01:00:26,704 [23] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Base currency changed from DKK to INR. INR Rate: 8.01
2025-03-23 01:00:26,704 [23] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Saving currency rates to file...
2025-03-23 01:00:26,731 [25] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Successfully saved currency rates to file.
2025-03-23 01:00:26,732 [25] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Successfully fetched and saved currency rates.
2025-03-23 01:00:26,737 [25] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency rates from file...
2025-03-23 01:00:49,037 [24] INFO  Adfrom_CurrencyConversion.Controllers.CurrencyController - Converting 100 INR to USD.
2025-03-23 01:00:49,040 [24] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Converting currency...
2025-03-23 01:00:49,040 [24] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency rates from file...
2025-03-23 01:00:49,047 [27] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency conversions from file...
2025-03-23 01:00:49,137 [27] ERROR Adfrom_CurrencyConversion.Services.CurrencyService - Error while loading currency conversions from file
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
2025-03-23 01:00:49,250 [27] ERROR Adfrom_CurrencyConversion.Services.CurrencyService - Error while converting currency
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
   at Adfrom_CurrencyConversion.Services.CurrencyService.ConvertCurrencyAsync(CurrencyConversionRequest request) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 231
2025-03-23 01:00:49,320 [27] ERROR Adfrom_CurrencyConversion.Controllers.CurrencyController - Unexpected error during currency conversion from INR to USD
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
   at Adfrom_CurrencyConversion.Services.CurrencyService.ConvertCurrencyAsync(CurrencyConversionRequest request) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 231
   at Adfrom_CurrencyConversion.Controllers.CurrencyController.ConvertCurrency(CurrencyConversionRequest request) in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Controllers\CurrencyController.cs:line 78
2025-03-23 01:01:24,808 [24] INFO  Adfrom_CurrencyConversion.Controllers.CurrencyController - Converting 100 INR to USD.
2025-03-23 01:01:29,414 [24] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Converting currency...
2025-03-23 01:01:30,448 [24] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency rates from file...
2025-03-23 01:01:36,643 [18] INFO  Adfrom_CurrencyConversion.Services.CurrencyService - Loading currency conversions from file...
2025-03-23 01:01:36,699 [9] ERROR Adfrom_CurrencyConversion.Services.CurrencyService - Error while loading currency conversions from file
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Adfrom_CurrencyConversion.Services.CurrencyService.LoadConversionsFromFileAsync() in D:\Harish\Github\Company-Assignements\Adform_CurrencyConverter\Adfrom_CurrencyConversion\Services\CurrencyService.cs:line 290
